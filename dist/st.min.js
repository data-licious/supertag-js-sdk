!function(t,e,r,a){"use strict";var n,i,o,p,u,s,c,l,T,A,d,_;i="https://app.supert.ag/api/",o=["dataFilter"],p=function(t){throw"ERROR: SuperTag JS SDK: "+t},u=function(t){for(var e,r,a,n,i,o,p,u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",s="",c=0;c<t.length;)e=t.charCodeAt(c++),r=t.charCodeAt(c++),a=t.charCodeAt(c++),n=e>>2,i=(3&e)<<4|r>>4,o=(15&r)<<2|a>>6,p=63&a,isNaN(r)?o=p=64:isNaN(a)&&(p=64),s+=u.charAt(n)+u.charAt(i)+u.charAt(o)+u.charAt(p);return s},s=function(e){return a===t.JSON&&p("[Polyfill] for JSON must be provided."),t.JSON.stringify(e)},c=function(e){return a===t.JSON&&p("[Polyfill] for JSON must be provided."),t.JSON.parse(e)},l=function(t,e){a===e&&p("["+t+"] must be provided.")},T=function(t,e){return l(t,e),e!==parseInt(e)?p("["+t+"] must be an integer."):void 0},A=function(t,e){return l(t,e),"string"!==r.type(e)?p("["+t+"] must be a string."):void 0},d=function(t,e){l(t,e),e&&!r.isPlainObject(e)&&p("["+t+"] must be a plain object.")},_=function(t){d("Ajax options",t),r.each(t,function(t){~r.inArray(t,o)||p("["+t+"] is not a supported Ajax option.")})},n=function(){function t(t){d("SDK argument",t),A("Token",t.token),this.basicAuth=u("token:"+t.token),this.baseUrl=t.baseUrl||i,A("Base URL",this.baseUrl)}return t.error=p,t.jsonEncode=s,t.jsonDecode=c,t.validateDefined=l,t.validateInt=T,t.validateStr=A,t.validatePlainObj=d,t.prototype.get=function(t,e,r){return this.ajax(this.getEndpoint(t,e),"GET",null,r)},t.prototype.post=function(t,e,r,a){return this.ajax(this.getEndpoint(t,e),"POST",r,a)},t.prototype.put=function(t,e,r,a){return this.ajax(this.getEndpoint(t,e),"PUT",r,a)},t.prototype["delete"]=function(t,e,r){return this.ajax(this.getEndpoint(t,e),"DELETE",null,r)},t.prototype.getEndpoint=function(t,e){return A("URI",t),e&&d("Query parameters",e),this.baseUrl+t+(e?"?"+r.param(e):"")},t.prototype.ajax=function(t,e,n,i){var t=t||this.baseUrl,e=e||"GET",o={"Content-Type":"application/json",Authorization:"Basic "+this.basicAuth},p={url:t,method:e,headers:o,dataType:"json"};return a!==n&&null!==n&&(d("Data",n),p.data=s(n)),a!==i&&(_(i),r.extend(p,i)),r.ajax(p)},t}(),t.StSDK=n}(window,document,jQuery),function(t,e,r,a){"use strict";var n=t.StSDK;n.APP_TEMPLATE_FORMAT_FLAT="flat",n.APP_TEMPLATE_FORMAT_GROUPED="grouped",n.APP_TEMPLATE_FORMAT_STANDARD="standard",n.prototype.getAppTemplate=function(t){return n.validateInt("App template ID",t),this.get("app-templates/"+t)},n.prototype.createAppTemplate=function(t){return n.validatePlainObj("App template data",t),this.post("app-templates",null,t)},n.prototype.updateAppTemplate=function(t,e){return n.validateInt("App template ID",t),n.validatePlainObj("App template data",e),this.put("app-templates/"+t,null,e)},n.prototype.deleteAppTemplate=function(t){return n.validateInt("ID",t),this["delete"]("app-templates/"+t)},n.prototype.getAppTemplates=function(t){var t=t||n.APP_TEMPLATE_FORMAT_FLAT;return~r.inArray(t,[n.APP_TEMPLATE_FORMAT_FLAT,n.APP_TEMPLATE_FORMAT_GROUPED,n.APP_TEMPLATE_FORMAT_STANDARD])||n.error("[Format] is not valid."),this.get("app-templates",null,{dataFilter:function(e,a){if(n.APP_TEMPLATE_FORMAT_FLAT===t||"json"!==a)return e;var i={},o=[],p=n.jsonDecode(e);return r.each(p,function(t,e){var r=e.vendor,a=e.platform;r in i?a in i[r]?i[r][a].push(e):i[r][a]=[e]:(i[r]={},i[r][a]=[e])}),n.APP_TEMPLATE_FORMAT_GROUPED===t?n.jsonEncode(i):(r.each(i,function(t,e){var a=[];r.each(e,function(t,e){a.push({name:t,applications:e})}),o.push({name:t,platforms:a})}),n.jsonEncode(o))}})}}(window,document,jQuery),function(t){"use strict";var e=t.StSDK;e.prototype.getCompany=function(t){return e.validateInt("Company ID",t),this.get("companies/"+t)}}(window),function(t){"use strict";var e=t.StSDK;e.prototype.getProjectDataObjects=function(t){return e.validateInt("Project ID",t),this.get("projects/"+t+"/data-objects")},e.prototype.getDataObjectTypeLabel=function(t){switch(t.type){case"affinity_group_variable":return"Affinity";case"cookie_parameter_variable":return"Cookie";case"double_click_advertiser_id_variable":return"DoubleClick Advertiser";case"element_text_variable":return"Element text";case"javascript_variable":case"special_javascript_value_variable":return"JavaScript";case"query_parameter_variable":return"URL Parameter";case"string_variable":return"String";case"variable_template_variable":return t.vendor;case"rule_bound_variable":return"Rule based";case"referrer_parameter_variable":return"Referrer parameter"}return""}}(window),function(t,e){"use strict";var r=t.StSDK;r.prototype.buildUrlParams=function(t){var r={};for(var a in t)null!==t[a]&&void 0!==t[a]&&""!==t[a]&&(r[a]=t[a]);var n=e.param(r);return n?"?"+n:n}}(window,jQuery),function(t){"use strict";var e=t.StSDK;e.prototype.getCompaniesAndProjects=function(t,e){var r=this.buildUrlParams({limit:t,filter:e});return this.get("companies/projects"+r)},e.prototype.getProject=function(t){return e.validateInt("Project ID",t),this.get("projects/"+t)}}(window),function(t){var e=t.StSDK;e.prototype.getProjectRules=function(t){return e.validateInt("Project ID",t),this.get("projects/"+t+"/rules")}}(window),function(t,e,r,a){"use strict";var n=t.StSDK;n.PROJECT_TAG_TREE_FORMAT_STANDARD="standard",n.PROJECT_TAG_TREE_FORMAT_KENDOUI="kendoui",n.PROJECT_TAG_ACTION_ACTIVATE="activate",n.PROJECT_TAG_ACTION_DEACTIVATE="deactivate",n.prototype.getTagTree=function(t,e){function a(t){r.map(t,function(t){return t.text=t.name,"children"in t&&(t.items=t.children,delete t.children,a(t.items)),t})}n.validateInt("Project ID",t);var e=e||n.PROJECT_TAG_TREE_FORMAT_STANDARD;return~r.inArray(e,[n.PROJECT_TAG_TREE_FORMAT_STANDARD,n.PROJECT_TAG_TREE_FORMAT_KENDOUI])||n.error("[Format] is not valid."),this.get("projects/"+t+"/tags",null,{dataFilter:function(t,r){if(n.APP_TEMPLATE_FORMAT_STANDARD===e||"json"!==r)return t;if(t=n.jsonDecode(t),!("tag_tree"in t&&t.tag_tree))return n.jsonEncode(t);var i=t.tag_tree;return a(i),n.jsonEncode(i)}})},n.prototype.installTag=function(t,e,r){return n.validateInt("Project ID",t),n.validateInt("Tag template ID",e),n.validatePlainObj("Tag data",r),this.post("projects/"+t+"/tags/template/"+e,null,r)},n.prototype.toggleTag=function(t,e){return n.validateInt("Project ID",t),~r.inArray(e,[n.PROJECT_TAG_ACTION_ACTIVATE,n.PROJECT_TAG_ACTION_DEACTIVATE])||n.error("[Action] is not valid."),n.PROJECT_TAG_ACTION_ACTIVATE===e?this.put("tags/"+t+"/activate"):this.put("tags/"+t+"/deactivate")}}(window,document,jQuery);